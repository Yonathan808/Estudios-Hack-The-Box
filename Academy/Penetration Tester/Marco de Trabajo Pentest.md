# Metodología de Pentesting - Guía Estructurada

## Configuración del Proyecto

### Enfoques de Testing
- **Black Box**: Testing sin conocimiento previo del sistema
- **Gray Box**: Testing con conocimiento parcial del sistema

### Entornos de Prueba
- **Active Directory**: Infraestructura de directorio corporativo
- **Aplicaciones Web**: Sitios web y portales corporativos
- **Infraestructura de Red**: Equipos de red y comunicaciones
- **APIs**: Interfaces de programación de aplicaciones
- **Aplicaciones Móviles**: Apps para dispositivos móviles

### Perspectivas de Evaluación
- **Interna**: Simulando un atacante con acceso interno
- **Externa**: Simulando un atacante desde Internet

## Fases del Pentesting

### 1. Pre-Engagement (Preparación)
**Objetivo**: Establecer el marco legal y técnico antes del compromiso

**Documentos requeridos:**
- **Acuerdo de Confidencialidad (NDA)**: Protección legal de la información
- **Cuestionario de Alcance**: Definición del entorno del cliente y límites
- **Documento de Alcance**: Identificación específica de objetivos (targets)
- **Propuesta de Pentesting**: Objetivos, metodología, cronograma y costos
- **Reglas de Compromiso (ROE)**: Directrices operativas incluyendo:
  - Horarios permitidos para las pruebas
  - Límites técnicos y funcionales
  - Procedimientos de emergencia

### 2. Recopilación de Información (Reconnaissance)
**Objetivo**: Obtener la máxima información sobre los objetivos

- **Reconocimiento Pasivo**: Recolección sin interacción directa
- **Reconocimiento Activo**: Interacción directa con los sistemas objetivo

### 3. Análisis de Vulnerabilidades
**Objetivo**: Identificar debilidades explotables

Evaluación sistemática de vulnerabilidades basada en la información recopilada en la fase anterior.

### 4. Explotación
**Objetivo**: Demostrar el impacto real de las vulnerabilidades

- **Explotación Manual**: Técnicas personalizadas
- **Explotación Automatizada**: Uso de herramientas especializadas

### 5. Post-Explotación
**Objetivo**: Evaluar el alcance del compromiso (sujeto a ROE)

**Actividades incluidas:**
- **Pivoting**: Uso del sistema comprometido para acceder a otros
- **Escalada de Privilegios**: Obtención de permisos superiores
- **Persistencia**: Mantenimiento del acceso
- **Movimiento Lateral**: Expansión dentro de la red
- **Enumeración Interna**: Recopilación de información sensible

### 6. Reporte
**Objetivo**: Documentar hallazgos y recomendaciones

**Entregables:**
- **Informe Ejecutivo**: Resumen para la alta dirección
- **Informe Técnico**: Detalles técnicos y pruebas de concepto (PoC)

### 7. Post-Engagement (Cierre)
**Objetivo**: Transferencia de conocimiento y seguimiento

- Entrega formal del informe
- Presentación de resultados
- Revisión y aclaración de hallazgos

## Metodologías de Referencia

### OSSTMM - Open Source Security Testing Methodology Manual
**Aplicación**: Marco integral para pruebas de penetración
- Sistemas de información
- Comunicaciones
- Software
- Aspectos de seguridad humana
- Interconexiones entre sistemas

### OWASP - Open Web Application Security Project
**Aplicación**: Especializado en seguridad de aplicaciones web
- Estándares de seguridad web
- Mejores prácticas de desarrollo seguro
- Herramientas y recursos especializados

### PTES - Penetration Testing Execution Standard
**Aplicación**: Guía unificada para la ejecución de pentesting
- Metodología estandarizada
- Procedimientos comunes de la industria
- Framework de referencia universal



__________________________________________________
__________________________________________________



**Enfoque**: Black Box - Gray Box

**Entorno**: Active Directory, WebApps, Redes, APIs, HOST (Aplicaciones Móviles)

**Perspectiva**: Interna, Externa

## PTES (Metodologia usada)

**Pre-Engagement**: Fase previa al compromiso - Documentación - Objetivos y ROE
- Acuerdo de Confidencialidad (NDA)
- Cuestionario de Alcance (Entorno del cliente y alcance)
- Documento de Alcance (Targets)
- Propuesta de Pentesting (Objetivos, metodología, cronograma, costos)
- Reglas de Compromiso (ROE) - Directrices operativas (Horarios, Límites, Procedimientos en caso de emergencia)

**Recopilación de Información** (Reconocimiento pasivo y Reconocimiento activo de los objetivos)

**Modelado de Amenazas** (Identificar, categorizar y priorizar las amenazas, se pueden usar algunas metofologias (STRIDE (Tipo de Amenaza) o DREAD (Puntuación de Riesgo)))

**Análisis de Vulnerabilidades** (Vulnerabilidades en base a lo encontrado anteriormente)

**Explotación** (Se explotan las vulnerabilidades encontradas - Manual y Automatizada)

**Post-Explotación** (Basado en el ROE) - Pivoting, Escalada de privilegios, Persistencia, Movimiento lateral, Enumeración de Información interna

**Reporte** - Informe Ejecutivo e Informe Técnico (PoC)

**Post-Engagement** (Entrega de Informe y Presentación/Revisión del Informe)

---

## METODOLOGÍAS

**OSSTMM** - Open Source Security Testing Methodology Manual
- Marco para hacer pruebas de penetración a Sistemas, Comunicaciones, Software, Aspectos Humanos
- Cómo se comunican estos sistemas

**OWASP** - Open Web Application Security Project
- Seguridad de aplicaciones Web

**PTES** - Penetration Testing Execution Standard
- Proporciona guía común de cómo ejecutar un pentest



	













