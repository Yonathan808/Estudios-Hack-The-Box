## WHOIS / DNS

### 
```bash
# instalar whois (si falta)
sudo apt update
sudo apt install whois -y

# lookup WHOIS
whois inlanefreight.com
whois facebook.com
```


### Hosts file (mapeo local)
```bash
# Añadir entrada al hosts (Linux)
sudo sh -c 'echo "SERVER_IP  academy.htb" >> /etc/hosts'

# Ejemplos de entradas /etc/hosts
# 127.0.0.1       localhost
# 192.168.1.10    devserver.local
# 0.0.0.0         unwanted-site.com
```


### dig — consultas DNS (Domain Information Groper)
```bash
# lookup A (por defecto)
dig domain.com

# tipos de consulta específicos
dig domain.com A
dig domain.com AAAA
dig domain.com MX
dig domain.com NS
dig domain.com TXT
dig domain.com CNAME
dig domain.com SOA

# usar un nameserver concreto
dig @1.1.1.1 domain.com

# trazar resolución completa
dig +trace domain.com

# reverse lookup
dig -x 192.168.1.1

# solo salida corta (solo la respuesta)
dig +short domain.com

# mostrar solo la sección answer
dig +noall +answer domain.com

# ANY query (puede ser ignorado por muchos servidores)
dig domain.com ANY
```


### Zone transfer (AXFR) — intento de transferencia de zona
```bash
# pedir un AXFR (zone transfer) a un nameserver
dig axfr @nsztm1.digi.ninja zonetransfer.me

# ejemplo genérico
dig axfr @<nameserver> <domain>
```


### Subdomain brute / enumeración (herramientas)
```bash
# dnsenum (ejemplo con wordlist de SecLists)
dnsenum --enum inlanefreight.com -f /usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt -r

# variante sin -r (como en texto)
dnsenum --enum inlanefreight.com -f /usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt

------------------------------------------------------------------------------------------------------

# tools list (no comandos únicos):
amass, dnsrecon, fierce, theHarvester, puredns, assetfinder, host, nslookup
```


### Virtual host discovery (VHost / vhost bruteforce)
```bash
# ffuf para VHosts (Host header fuzz)
ffuf -w /path/to/wordlist.txt:FUZZ -u http://academy.htb:PORT/ -H 'Host: FUZZ.academy.htb' -fs <size_to_filter>

# gobuster mode vhost (ejemplo del texto)
gobuster vhost -u http://inlanefreight.htb:81 -w /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt --append-domain

# gobuster flags utiles: -t <threads>, -k (ignore TLS), -o <outfile>
```


### Certificate Transparency (CT) / crt.sh via curl + jq
```bash
# Buscar certificados en crt.sh y filtrar con jq (ejemplo facebook+dev)
curl -s "https://crt.sh/?q=facebook.com&output=json" | jq -r '.[] | select(.name_value | contains("dev")) | .name_value' | sort -u
```

### 
```bash

```



### 
```bash

```

